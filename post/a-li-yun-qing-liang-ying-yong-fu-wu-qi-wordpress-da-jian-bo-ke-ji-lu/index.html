<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>阿里云轻量应用服务器+WordPress搭建博客记录 | 我爱吃土豆</title>
<meta name="description" content="记得开心哦">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="https://520zym.github.io//favicon.ico?v=1573131302674">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://520zym.github.io//styles/main.css">



<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />



  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="https://520zym.github.io/">
        <img src="https://520zym.github.io//images/avatar.png?v=1573131302674" class="site-logo">
        <h1 class="site-title">我爱吃土豆</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
          <a class="social-link" href="https://github.com/520zym" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        
      
        
      
        
          <a class="social-link" href="https://weibo.com/u/7035633504" target="_blank">
            <i class="fab fa-weibo"></i>
          </a>
        
      
        
          <a class="social-link" href="https://www.zhihu.com/people/biubiubiu-17-55/activities" target="_blank">
            <i class="fab fa-zhihu"></i>
          </a>
        
      
        
      
    </div>
    <div class="site-description">
      记得开心哦
    </div>
    <div class="site-footer">
      Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | <a class="rss" href="https://520zym.github.io//atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">阿里云轻量应用服务器+WordPress搭建博客记录</h2>
            <div class="post-date">2019-10-03</div>
            
              <div class="feature-container" style="background-image: url('https://520zym.github.io//post-images/a-li-yun-qing-liang-ying-yong-fu-wu-qi-wordpress-da-jian-bo-ke-ji-lu.jpg')">
              </div>
            
            <div class="post-content">
              <p>靠着阿里云学生优惠，买了一台轻量应用服务器来折腾。</p>
<!-- more -->
<h1 id="一-购买服务器与域名">一、购买服务器与域名</h1>
<h2 id="1-服务器查找">1. 服务器查找</h2>
<h3 id="a-腾讯云">a.  腾讯云</h3>
<p><a href="https://cloud.tencent.com/act/campus">腾讯云</a>：&quot;学生优惠——10元/月&quot;</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/20190908110927344.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="腾讯云图片"></figure>
<h3 id="b-阿里云">b. 阿里云</h3>
<p><a href="https://promotion.aliyun.com/ntms/act/campus2018.html">阿里云</a>：&quot;学生优惠——9.5月/月&quot;</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/20190908110916254.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="aliyun"></figure>
<h3 id="c-百度云服务">c. 百度云服务</h3>
<p><a href="https://cloud.baidu.com/campaign/campus-2018/index.html">百度云</a>：&quot;学生优惠——18元/月&quot;</p>
<figure data-type="image" tabindex="3"><img src="https://img-blog.csdnimg.cn/20190908110905683.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="baiduyun"></figure>
<h3 id="d-华为云服务">d. 华为云服务</h3>
<p><a href="https://developer.huaweicloud.com/campus?productType=ecs_1">华为云学生优惠</a>：&quot;学生优惠——9元/月&quot;</p>
<figure data-type="image" tabindex="4"><img src="https://img-blog.csdnimg.cn/20190908110855941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="huaweiyun"></figure>
<h3 id="e-其他">e. 其他</h3>
<p>​		其他的包含学生优惠的官方云服务暂时没有找到。这么一对比，好像阿里云的学生优惠确实要好一些。</p>
<h2 id="2-账号注册">2.  账号注册</h2>
<p>​		注册一个阿里的账号，选择了新注册一个账号（还可以选择用支付宝登录）。<br>
​	<br>
​		注册地址链接：<a href="https://account.aliyun.com/register/register.htm"> 阿里云账号注册 </a></p>
<figure data-type="image" tabindex="5"><img src="https://img-blog.csdnimg.cn/20190908110844627.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="aliyunRigister"></figure>
<p>​		注册完成之后，还需要实名认证，才可以进行服务器购买等操作，学生还可以选择学生认证，享受学生专属优惠（先实名认证，再学生认证。“年龄在12岁~24岁之间的个人实名认证用户 和 全日制在校大学生在学生认证有效期内，满足上述任一条件即可享受优惠价格”）。</p>
<figure data-type="image" tabindex="6"><img src="https://img-blog.csdnimg.cn/20190908110813779.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="student"></figure>
<p>​		认证可以选择支付宝登录直接认证，也可以下载阿里云app或者淘宝扫脸认证（好屌哦，那我还不如直接支付宝登录认证，反正钱也是要从支付宝里面扣，这都是一家人）。</p>
<figure data-type="image" tabindex="7"><img src="https://img-blog.csdnimg.cn/20190908110804407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="registerMethod"></figure>
<p>​		认证的时候需要填写详细地址信息，之后如果进行备案的话，会用到这个地址。认证完成之后，页面便会显示“您已完成阿里云实名认证”。然后，我继续进行学生认证，填写学校信息（填写虚假信息会被查出来，是调用的学信网的借口查的信息）。<a href="https://segmentfault.com/q/1010000011182238"> 阿里云学生认证能用别人的信息吗？</a> 反正，老老实实别贪便宜一定没问题。</p>
<figure data-type="image" tabindex="8"><img src="https://img-blog.csdnimg.cn/20190908110754832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="attention"></figure>
<h2 id="3-服务器购买">3. 服务器购买</h2>
<figure data-type="image" tabindex="9"><img src="https://img-blog.csdnimg.cn/20190908110745847.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="aliyun"></figure>
<p>​		如图所示，登录自己的账号之后，1个月、3个月、6个月和一年的时长都会解锁，预装环境和地域选择（华北2是指北京，华东2是指上海）之后，点击“立即购买”即可购买，付款方式可以选择花呗。<br>
​</p>
<p>​		我自己选择了预装环境为Ubuntu 16.04系统，之后又自己改为了Ubuntu 18.04；时长选择了3个月（最好还是选择一年的吧），共计花费28.5。</p>
<h2 id="4-域名购买">4. 域名购买</h2>
<p>域名购买同样可以在阿里云平台——<a href="https://wanwang.aliyun.com/domain/">阿里云万网</a>。查询自己想要的域名，加入清单，然后付款购买即可。购买之后就需要备案。<br>
<img src="https://img-blog.csdnimg.cn/20190908111913488.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="万网"></p>
<h2 id="5-备案">5. 备案</h2>
<p>阿里云备案系统——<a href="https://beian.aliyun.com/">备案系统</a>。进入备案系统之后，按照指示一步一步填写信息，然后就是等待了。在等待时间内，阿里云还会赠送时长。<a href="https://help.aliyun.com/knowledge_detail/36894.html"> 备案用时多久送多久规则 </a>： &quot;备案用时多久送多久&quot;符合条件的阿里云服务器，均可享受最长不超过 30 天的赠送时长。“备案用时多久送多久”具体规则如下：</p>
<p><strong>前提条件</strong></p>
<ol>
<li>
<p>您购买的阿里云服务器须为包年包月的服务器：ECS 实例、云虚拟主机（共享虚拟主机和免费虚拟主机除外），且每台阿里云服务器仅限享受本规则规定的赠送时长一次；</p>
</li>
<li>
<p>您提交的网站备案申请须通过管局审核，并且是该服务器提供服务的第一个备案成功的网站（变更备案操作除外）；</p>
</li>
<li>
<p>在备案信息通过管局审核前，您的服务器未因服务期届满到期，也不存在服务提前终止（包括但不限于您提前退订服务）的情形。</p>
</li>
</ol>
<p><strong>赠送规则</strong></p>
<ol>
<li>阿里云将按照您的网站通过备案审核的时间（自您提交备案初审的时间起至备案成功的时间。如果您中途撤回备案，则以您最后一次提交备案初审的时间起算），相应的延长您所购买的包年包月的服务器的期限（延长的服务期限，以下简称“赠送时长”）。如果您的服务器期限提前终止（如存在提前退订、退款等情形），将不能享受赠送时长；</li>
<li>赠送时长不超过 30 天；</li>
<li>赠送时长仅限符合条件的阿里云服务器享受，不能转移到其他服务器上；</li>
<li>在任何情况下，赠送时长不能折抵服务费用；</li>
<li>备案成功后，系统将在 24 小时内自动赠送时长；</li>
<li>该活动仅限购买中国大陆地域服务器的用户参加；</li>
<li>存在违法违规行为，或违反阿里云网站服务条款的阿里云会员账户和/或服务器，不能享受赠送时长。</li>
</ol>
<h1 id="二-服务器环境配置">二、 服务器环境配置</h1>
<h2 id="1-服务器概况">1. 服务器概况</h2>
<p>​		登录到服务器控制台页面——<a href="https://homenew.console.aliyun.com/">控制台链接</a>，页面中会显示“最近使用”、“开发者工具”、“资源监控”和“费用中心”四个选项卡。其中，“最近使用”中的“轻量应用服务器”就是学生优惠所购买的服务器，点进去之后，就可以看到服务器概况（CPU使用的是Intel(R) Xeon(R) Platinum 8163 CPU @2.50GHz）。</p>
<figure data-type="image" tabindex="10"><img src="https://img-blog.csdnimg.cn/20190908110733819.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="控制台"></figure>
<figure data-type="image" tabindex="11"><img src="https://img-blog.csdnimg.cn/20190908110725586.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="服务器概况"></figure>
<h2 id="2-远程链接">2. 远程链接</h2>
<p>​		要想对服务器进行一系列的配置，第一步需要远程链接至服务器。首先，在“服务器列表”页面点击进入需要配置的服务器，进行详细管理页面，找到“远程连接”，如下：</p>
<figure data-type="image" tabindex="12"><img src="https://img-blog.csdnimg.cn/20190908110716935.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="远程连接"></figure>
<p>​		其中介绍了三种方法，利用Windows端可以利用Putty进行远程链接，具体方法参考<a href="https://help.aliyun.com/document_detail/59083.html?spm=5176.10173289.107.1.40ed2e77aXj4wJ#windows">《Putty配置说明》</a>。我的桌面环境是Ubuntu 18.04，下面介绍一下Ubuntu端远程链接至服务器的方法；其中的“密钥管理”里面引导你生成的密钥文件，在后续步骤中需要用到，并且很重要，下载之后务必要好好保存。<br>
​</p>
<p>​		Ubuntu环境中有一个软件叫做：Remmina，利用这个软件就可以比较容易的进行远程链接。如果没有这个软件的话，在终端中执行以下命令即可，也可以参考<a href="https://github.com/FreeRDP/Remmina/wiki">《Remmina官方文档》</a>。</p>
<pre><code class="language-shell">sudo apt-add-repository ppa:remmina-ppa-team/remmina-next
sudo apt update
sudo apt install remmina remmina-plugin-rdp remmina-plugin-secret
</code></pre>
<p>​		打开Remmina，点击“加号”，添加一个新的链接：</p>
<figure data-type="image" tabindex="13"><img src="https://img-blog.csdnimg.cn/20190908110703686.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="Remmina"></figure>
<figure data-type="image" tabindex="14"><img src="https://img-blog.csdnimg.cn/20190908110654835.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="远程桌面设定"></figure>
<p>​		名称就自己命名，看懂即可，分组也是；协议选择SSH连接；服务器填写自己所买的服务器的IP地址，用户名和密码填写自己服务器的用户名和密码；<strong>Authentication type</strong>选择<strong>SSH identity file</strong>，然后对应的下方的“私钥文件”选择之前生成的密钥文件，点击保存即可。在Remmina双击你保存的链接，即可远程连接至自己的服务器，然后进行一系列的配置了。</p>
<figure data-type="image" tabindex="15"><img src="https://img-blog.csdnimg.cn/20190908110645128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="连接成功"></figure>
<p>​		此外，Remmina还具备远程文件传输功能。选择左侧按钮“工具-&gt;打开安全文件传输”（箭头所指按钮），就会新建一个与该服务器连接的SFTP传输窗口。</p>
<figure data-type="image" tabindex="16"><img src="https://img-blog.csdnimg.cn/2019090811063572.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="Remmina-SFTP"></figure>
<h2 id="3-配置">3. 配置</h2>
<h3 id="a-java环境配置">a. Java环境配置</h3>
<p>​		执行命令：</p>
<pre><code class="language-shell">sudo apt-get update
sudo apt-get install openjdk-8-jdk
</code></pre>
<p>​		安装完成之后，执行命令“<strong>java -version</strong>”查看是否安装成功。</p>
<figure data-type="image" tabindex="17"><img src="https://img-blog.csdnimg.cn/20190908110621250.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="java"></figure>
<p>​		其他安装方法可参考<a href="https://blog.csdn.net/zbj18314469395/article/details/86064849">《Ubuntu 18.04安装Java JDK8的三种方式》</a>。</p>
<h3 id="b-php环境配置">b. PHP环境配置</h3>
<p>​		执行以下命令安装PHP环境：</p>
<pre><code class="language-shell">sudo apt-get software-properties-common
sudo add-apt-repository ppa:ondrej/php
sudo apt-get update
sudo apt install php libapache2-mod-php php-fpm php-cli php-xml php-mysql php-gd php-imagick php-recode php-tidy php-xmlrpc php-intl
</code></pre>
<p>​		安装完成之后，输入命令“<strong>php -v</strong>”查看。</p>
<figure data-type="image" tabindex="18"><img src="https://img-blog.csdnimg.cn/20190908110611395.png" alt="php-version"></figure>
<h3 id="c-tomcat配置">c. Tomcat配置</h3>
<p>（可跳过）<br>
​		首先下载tomcat包，我选择了tomcat 8.5.45。可以去Apache官网下载：<a href="https://tomcat.apache.org/download-80.cgi">tomcat下载</a>；也可以去国内镜像源网站（北京理工大学镜像源）下载：<a href="http://mirror.bit.edu.cn/apache/tomcat/tomcat-8/v8.5.45/bin/">下载链接</a>。<br>
​	<br>
​		官网中，选择该页面中Core下的tar.gz包。</p>
<figure data-type="image" tabindex="19"><img src="https://img-blog.csdnimg.cn/20190908110559875.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="apache-tomcat"></figure>
<p>​		北理镜像源中则选择apache-tomcat-8.5.45.tar.gz。</p>
<figure data-type="image" tabindex="20"><img src="https://img-blog.csdnimg.cn/2019090811054699.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="北理tomcat"></figure>
<p>​		下载完成之后，解压tomcat包，并将其移动到	<strong>/usr/local/lib/</strong>	目录下，之后为该文件夹及其子文件赋予权限“<strong>sudo chmod 755 -R apache-tomcat-8.5.45</strong>”。<br>
​	<br>
​		执行完毕之后，配置tomcat路径，修改脚本**~/.bashrc**。输入命令：<strong>sudo vim ~/.bashrc</strong>或者<strong>sudo gedit ~/.bashrc</strong>。在文件末端加入：</p>
<pre><code class="language-shell">#set tomcat environment
export TOMCAT_HOME=/usr/local/lib/apache-tomcat-8.5.45
</code></pre>
<figure data-type="image" tabindex="21"><img src="https://img-blog.csdnimg.cn/20190908110527629.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="tomcat-path"></figure>
<p>​		保存并退出之后，执行命令“<strong>source ~/.bashrc</strong>”使其生效。<br>
​	<br>
​		最后，输入命令：<strong>./startup.sh</strong>，启动tomcat。注意当前所在路径。然后打开浏览器，输入：<strong>localhost:8080</strong>，出现下图页面，则表示安装成功。</p>
<figure data-type="image" tabindex="22"><img src="https://img-blog.csdnimg.cn/20190908110517573.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="tomcat启动成功"></figure>
<figure data-type="image" tabindex="23"><img src="https://img-blog.csdnimg.cn/20190908110506867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="tomcat安装成功"></figure>
<p>​		执行命令<strong>shutdown.sh</strong>进行关闭时，出现以下错误：</p>
<pre><code>SEVERE: Could not contact [localhost:[8005]]. Tomcat may not be running.
</code></pre>
<figure data-type="image" tabindex="24"><img src="https://img-blog.csdnimg.cn/20190908110454845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="shutdown错误"></figure>
<p>​		将<strong>JRE_HOME/lib/security/java.security</strong>文件中的</p>
<pre><code class="language-shell">securerandom.source=file:/dev/random
</code></pre>
<p>​		改为：</p>
<pre><code class="language-shell">securerandom.source=file:/dev./urandom
</code></pre>
<p><em><strong>参考链接：<a href="https://blog.csdn.net/KiWi_VC/article/details/87929252">《Ubuntu18.04安装tomcat》</a></strong></em></p>
<h3 id="d-mysql配置">d. MySQL配置</h3>
<p>​		执行以下命令，安装mysql-server</p>
<pre><code class="language-shell">sudo apt-get update
sudo apt-get install mysql-server
</code></pre>
<p>​		MySQL安全配置，执行命令：</p>
<pre><code class="language-shell">sudo mysql_secure_installation
</code></pre>
<p>​		我的配置项如下：</p>
<pre><code>VALIDATE PASSWORD PLUGIN can be used to test passwords
and improve security. It checks the strength of password
and allows the users to set only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD plugin?

Press y|Y for Yes, any other key for No: 
Please set the password for root here.

New password: （设置新密码）

Re-enter new password: （重复密码）
By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created for them. This is intended only for
testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous users? (Press y|Y for Yes, any other key for No) : N

 ... skipping.


Normally, root should only be allowed to connect from
'localhost'. This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? (Press y|Y for Yes, any other key for No) : Y
Success.

By default, MySQL comes with a database named 'test' that
anyone can access. This is also intended only for testing,
and should be removed before moving into a production
environment.


Remove test database and access to it? (Press y|Y for Yes, any other key for No) : n

 ... skipping.
Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? (Press y|Y for Yes, any other key for No) : y
Success.

All done! 
</code></pre>
<p>​		执行命令“<strong>systemctl status mysql.service</strong>”检查mysql服务是否正常，如下：</p>
<figure data-type="image" tabindex="25"><img src="https://img-blog.csdnimg.cn/20190908110432159.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="mysql服务"></figure>
<p>​		接下来配置远程访问数据库功能。首先使用根用户进入mysql——<strong>sudo mysql -u root -p</strong>。这里需要注意加上<strong>sudo</strong>。默认情况下，root用户认证方式是<strong>auth_socket</strong>，使用密码登录会出现“<strong>ERROR 1698 (28000): Access denied for user 'root'@'localhost'</strong>”，下面修改为密码登录（参考自<a href="https://www.cnblogs.com/cpl9412290130/p/9583868.html">《[mysql出现ERROR1698(28000):Access denied for user root@localhost错误解决方法]》</a>。<br>
​	<br>
​		首先执行命令“<strong>sudo vim /etc/mysql/conf.d/mysql.cnf</strong>”修改该配置文件，在**[mysqld]<strong>标签下加入一行</strong>skip-grant-tables<strong>表示登录时跳过认证，直接进入；修改之后，退出vim，执行命令</strong>service mysql restart**，重新启动mysql服务。</p>
<figure data-type="image" tabindex="26"><img src="https://img-blog.csdnimg.cn/20190908110422310.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="mysql-conf"></figure>
<p>​		然后进入mysql，在mysql命令行下执行以下命令：</p>
<pre><code class="language-mysql">use mysql;
update user set authentication_string=password(&quot;你的密码&quot;),plugin='mysql_native_password' where user='root';
flush privileges;
</code></pre>
<figure data-type="image" tabindex="27"><img src="https://img-blog.csdnimg.cn/20190908110404170.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="mysql-auth"></figure>
<p>​		执行“<strong>select user, plugin from user;</strong>”查询root的认证方式，发现是“<strong>mysql_native_password</strong>”，即表示修改成功。然后退出mysql，将之前mysql.conf文件中修改的那句话注释掉，重新启动mysql，这一问题便可解决。<br>
​	<br>
​		为方便远程连接，添加新用户username用于远程连接功能。首先登录数据库，执行命令“<strong>create user 'username'@'%' identified by '用户密码';</strong>”；其中，<strong>username</strong>表示用户名，**%**表示登录时的任意IP都可。</p>
<figure data-type="image" tabindex="28"><img src="https://img-blog.csdnimg.cn/20190908110355324.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="create-user"></figure>
<p>​		然后，通过命令下面的命令赋予新用户需要的权限。</p>
<pre><code class="language-mysql">grant all privileges on 'databases-name'.'tables-name' to 'username'@'ip' identified by 'password' with grant option;
flush privileges;
</code></pre>
<figure data-type="image" tabindex="29"><img src="https://img-blog.csdnimg.cn/20190908110337424.png" alt="privileges"></figure>
<p>​		最后一步，修改“<strong>/etc/mysql/mysql.conf.d/mysqld.cnf</strong>”配置文件，将其中的“<strong>bind-address = 127.0.0.1</strong>”注释掉；</p>
<figure data-type="image" tabindex="30"><img src="https://img-blog.csdnimg.cn/20190908110326779.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="bind-address"></figure>
<p>​		同时，在阿里云服务器控制台添加一条关于<strong>MySQL</strong>的安全规则，允许<strong>3306</strong>端口开放；</p>
<figure data-type="image" tabindex="31"><img src="https://img-blog.csdnimg.cn/20190908110317559.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="防火墙"></figure>
<p>​		至此，本地数据库便可使用新建的用户名及其密码远程登录。</p>
<figure data-type="image" tabindex="32"><img src="https://img-blog.csdnimg.cn/20190908110306689.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="MySQL连接成功"></figure>
<h3 id="e-apache服务器安装">e.  Apache服务器安装</h3>
<p>​		apache2是一个被广泛使用的Web服务器，它的作用就是相应浏览器的需求，将用户需要的页面提供给浏览器。安装apache2只需要执行以下命令：</p>
<pre><code class="language-shell">sudo apt-get update
sudo apt-get install apache2
</code></pre>
<p>​		安装完成之后，打开浏览器，输入网址“<strong>http://your_server_ip</strong>”，出现下图则表示安装成功：</p>
<figure data-type="image" tabindex="33"><img src="https://img-blog.csdnimg.cn/20190908110252619.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="apache2"></figure>
<p>​		该页面所对应的文件<strong>index.html</strong>在路径**/var/www/html<strong>下，apache启动时就是从此处启动。在此处新建文件</strong>test.php**，测试PHP。<strong>test.php</strong>内容如下：</p>
<pre><code class="language-php+HTML">&lt;?php
    	phpinfo();
?php&gt;
</code></pre>
<p>​		浏览器url改为“<strong>http://your_server_ip/test.php</strong>”，出现以下页面：</p>
<figure data-type="image" tabindex="34"><img src="https://img-blog.csdnimg.cn/20190908110241630.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="php-test"></figure>
<h3 id="f-wordpress安装">f. Wordpress安装</h3>
<p>​		首先下载wordpress的tar.gz包——<a href="https://cn.wordpress.org/download/">获取wordpress</a>。或者直接执行命令“<strong>wget https://wordpress.org/latest.tar.gz</strong>”获取最新wordpress包。<br>
​	<br>
​		在访问网站时，apache默认读取的目录时“<strong>/var/www/html/</strong>”中的内容；所以，我们需要将获取的wordpress中的内容解压至该目录下。注意，由于在安装apache2时，该文件夹下已经有了一个默认文件<strong>index.html</strong>，但是我们已经不需要了，所以先删除掉该文件。</p>
<pre><code class="language-shell">#当前路径为wordpress所在的路径
sudo rm /var/www/html/index.html
#解压wordpress
sudo cp -rf wordpress/* /var/www/html/
sudo chown -R www-data:www-data /var/www
</code></pre>
<p>​		此时，访问“<strong>http://your_server_ip</strong>”，就会出现wordpress页面，即表示wordpress已经正确部署。</p>
<figure data-type="image" tabindex="35"><img src="https://img-blog.csdnimg.cn/20190908110228767.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="wordpress"></figure>
<p>​		按照提示操作即可。首先选择语言——简体中文；接下来填写数据库信息，这需要事先创建一个数据库以供wordpress使用。</p>
<figure data-type="image" tabindex="36"><img src="https://img-blog.csdnimg.cn/20190908110218844.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="wordpress-mysql"></figure>
<p>​		填写完成之后，提交；然后填写站点信息，包括站点标题、登录用户名和密码等其他信息，这些信息之后可以进行修改。</p>
<figure data-type="image" tabindex="37"><img src="https://img-blog.csdnimg.cn/20190908110206394.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="wordpress-info"></figure>
<p>​		填写完成之后，跟随提示进行下一步，然后就进入登录页面。</p>
<figure data-type="image" tabindex="38"><img src="https://img-blog.csdnimg.cn/20190908110153312.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="blog"></figure>
<p>​		登陆之后，就进入了wordpress提供的后台管理页面，也就表示wordpress已经安装完成，接下来就可以按照自己的意愿去修改自己的站点了，使用wordpress提供的主题和插件，或者自己编写。</p>
<figure data-type="image" tabindex="39"><img src="https://img-blog.csdnimg.cn/20190908110142785.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwMjY5MzUw,size_16,color_FFFFFF,t_70" alt="blog管理页面"></figure>

            </div>
            
              <div class="tag-container">
                
                  <a href="https://520zym.github.io//tag/Nmo5WNFyt" class="tag">
                    Blog
                  </a>
                
              </div>
            
            
              <div class="next-post">
                <div class="next">下一篇</div>
                <a href="https://520zym.github.io//post/github-ke-hu-duan-xia-zai-man-de-jie-jue-fang-fa">
                  <h3 class="post-title">
                    Github客户端下载慢的解决方法
                  </h3>
                </a>
              </div>
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>




  </body>
</html>
